# “21点”小游戏产品设计文档

## 1. 游戏规则

### 1.1 基本规则
游戏中使用1副扑克牌，庄家(程序)给玩家发两张牌，再给自己发两张牌，一张暗牌，一张明牌。扑克点数的计算是:K、Q、J和10都算作10点；A牌既可算作1点也可算作11点，由玩家自己决定；其余所有2至9牌均按其原面值计算。如果玩家拿到的前两张牌是一张A和一张10点牌，就拥有黑杰克(Blackjack)；此时，如果庄家没有黑杰克，玩家就能赢得2倍的赌金(1赔2)。没有黑杰克的话，玩家可以继续要牌，可以随意要多少张，目的是尽量往21点靠，在要牌的过程中，如果所有的牌加起来超过21点，玩家就输了--叫爆掉(Bust)，游戏也就结束了。假如玩家没爆掉，又决定不再要牌了，这时庄家就把他的那张暗牌打开来。庄家到17点或17点以上不再拿牌，否则必须继续拿牌。假如庄家爆掉了，那他就输了；假如没爆掉，那么就与玩家比较点数大小，点数大的获胜，点数相同为平手，玩家可以拿回赌注。

### 1.2 游戏术语
- 黑杰克: 一手牌内两张牌的点数相加合共达 21点(如A牌和一张花牌或10点牌)。
- 拿牌(HIT): 再拿一张牌。闲家和庄家只要手上牌相加点数不超过21点都可要牌。
- 停牌(STAND): 不再拿牌。在任何情况下，玩家可选择停止要牌。
- 双倍下注(DOUBLE): 玩家在拿到前两张牌之后，可以再下一注与原赌注相等的赌金，然后只能再拿一张牌。

## 2. 产品设计

### 1.1 界面设计

- 主界面：包括牌面的展示区域（庄家和玩家的扑克牌图片组以及根据牌面计算出的点数），以及一系列操作按钮（HIT，STAND，DOUBLE）
- 下注区域: 包括下注的按钮、发牌的按钮，以及玩家当前的总分值和下注的分值。未下注时发牌按钮不可点击。点击不同分值的下注按钮可以下注相应的分值，点击后界面上的总分值和下注分值发生相应的改变。下注后可以点击发牌按钮开始游戏。

### 1.2 功能流程

#### (1) 创建游戏
初始化游戏数据，比如玩家的初始分值等
#### (2) 下注
点击不同分值的下注按钮下注，记录赌注，在玩家的分值中减去赌注
#### (3) 发牌
生成随机数组作为洗过的扑克牌，从数组中各取出两项作为玩家和庄家手牌，玩家可以看到庄家的其中一张牌
#### (4) 玩家操作 
- 如果是黑杰克只能Stand
- Hit：给玩家再发一张牌，Hit之后不能再进行Double操作；如果Hit之后点数大于21玩家输，游戏结束
- Stand：不再要牌，之后庄家操作
- Double：给玩家再发一张牌，并且赌注翻倍，之后庄家操作

#### (5) 庄家操作
- 如果玩家是黑杰克，庄家也是黑杰克为平局，否则玩家获得两倍赌注，游戏结束
- 庄家点数小于17继续要牌，否则不再要牌
- 庄家点数超过21则玩家获胜，游戏结束
- 庄家未超过21则比较点数，相同为平局，玩家点数高玩家获胜，否则庄家获胜，游戏结束

#### (6) 游戏结束
- 根据结果计算玩家分值
- 一轮游戏结束后可以再次下注开始新的一轮